#include "cumur.h"
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

static int icmp(const void *vp1, const void *vp2){
	return *(const int*)vp1 - *(const int *)vp2;
}

//-------------------------------------------------
//--------------------------------------------
int day_of_the_week(int d, int m, int y)
{
	const int t[]={0,3,2,5,0,3,5,1,4,6,4};
	
	if(m<3)
		y -= 1;
	
	return ((y+y / 4 - y / 100 + y / 400 + t[m - 1]+d)% 7);
}

//------------------------------------------------------------
//------------------------------------------------------------

void dline(void)
{
	printf("\n-------------------------------------------------------------------------------\n");
}

//------------------------------------------------------------
//------------------------------------------------------------

int ndigit(int val)
{
	if (val == 0)
		return 1;
	
	int digit_count = 0;
	
	while(val){
		++digit_count;
		val /= 10;
	}
	return digit_count;
}

//------------------------------------------------------------
//------------------------------------------------------------

void sgets(char *p)
{
	int c;
	
	while((c = getchar()) != '\n')
		*p++ = (char)c;
	
	*p = '\0';
}
//------------------------------------------------------------
//-------------------------------------------------

int isprime(int val)
{
	int k;
	if(val == 0 || val == 1)
		return 0;
	if(val % 2 == 0)
		return val == 2;
	if(val % 3 == 0)
		return val == 3;
	if(val % 5 == 0)
		return val == 5;
	
	for(k = 7; k*k <= val; k+=2)
		if(val % k == 0)
			return 0;
	return 1;
	
}



//------------------------------------------------------------
//------------------------------------------------------------

void sleep(double sec)
{
	clock_t start = clock();
	
	while((double)(clock()-start) / CLOCKS_PER_SEC < sec)
		; 
}
//------------------------------------------------------------
//--------------------------------------------------

void cls(void)
{
	system("cls");
}
//------------------------------------------------------------
//-----------------------------------------


void randomize(void)
{
	srand((unsigned int)time(0));
}

//------------------------------------------------------------
//-----------------------------------------

void set_random_array(int *p, int size)
{
	int i;
	for(i = 0; i<size; ++i){
		p[i] = rand() % 1000;
	}
}
//------------------------------------------------------------
//-----------------------------------------

void display_array(const int *p, int size)
{
	int i;
	for(i = 0; i < size; ++i){
		if(i && i % 20 == 0)
			printf("\n");
		printf("%3d ", p[i]);}
		
		dline();
}
//------------------------------------------------------------
//-----------------------------------------

void sort(int *p, int size)
{
	qsort(p, size, sizeof(*p), &icmp);
}
//------------------------------------------------------------
//-----------------------------------------
void mygets_s(char *p, int size)
{
	int c;
	int cnt = 0;
	while((c = getchar()) != '\n'){
		if(cnt == size -1)
			break;
		*p++ = (char)c;
	}
	
	*p = '\n';
}
//------------------------------------------------------------
//-----------------------------------------

void swap(int *p1, int *p2)
{
	int temp = *p1;
	*p1 = *p2;
	*p2 = temp;
}

//------------------------------------------------------------
//-----------------------------------------

void gswap(void *vp1, void *vp2, size_t n) // generic swap
{
	char *p1 = (char *)vp1;
	char *p2 = (char *)vp2;
	
	while(n--){
		char temp = *p1;
		*p1 = *p2;
		*p2 = temp;
	}


	
}
